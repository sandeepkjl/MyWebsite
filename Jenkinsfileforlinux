pipeline {
    agent any



stages{

		stage('Install package'){
            
            steps {
                sh 'npm install'              
            }
        }
        
        stage('Build'){
            
            steps {
				
                sh 'sudo ng build'              
            }
        }

        stage('Create Docker Image'){
            
            steps {
				
                sh 'docker build . -t myangulardemo'              
            }
        }
        stage('push image to docker registry'){
            
            steps {
			  sh 'docker login   -u ${SA_DOCKER_USERID} -p ${SA_DOCKER_PASSWORD}'
				sh 'docker tag myangulardemo sk6785/myangulardemo:1.0'
				sh 'docker push  sk6785/myangulardemo:1.0'
            }
        }

        
}
}
